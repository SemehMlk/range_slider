package com.example.preferences.mapper;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.mapstruct.Mapper;
import org.mapstruct.Named;

@Named("JsonNodeMapper")
public class JsonNodeMapper {

    private final ObjectMapper objectMapper = new ObjectMapper();

    @Named("toJsonNode")
    public JsonNode toJsonNode(Object value) {
        if (value == null) {
            return null;
        }
        return objectMapper.convertValue(value, JsonNode.class);
    }

    @Named("toObject")
    public Object toObject(JsonNode jsonNode) {
        if (jsonNode == null) {
            return null;
        }
        return objectMapper.convertValue(jsonNode, Object.class);
    }
}
