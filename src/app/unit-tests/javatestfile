@Test
public void testCreateSpecificationElapsedTime() {
    ApiSearchCriteriaDto criteria = MessageTestUtils.createInLapseTimeCriteria(ApiSearchableFieldDto.FieldEnum.CREATION_DATE);

    ApiSearchRequestDto request = new ApiSearchRequestDto();
    request.setLogicOperator(ApiLogicSearchOperatorDto.AND);
    request.setCriteria(List.of(criteria));

    Specification<KemmCanonicalMessage> spec = MessageSpecificationBuilder.buildSpecification(request);

    // Mocker les objets requis pour le test
    Root<KemmCanonicalMessage> root = Mockito.mock(Root.class);
    CriteriaQuery<?> query = Mockito.mock(CriteriaQuery.class);
    CriteriaBuilder cb = Mockito.mock(CriteriaBuilder.class);

    // Appliquer la spécification
    Predicate predicate = spec.toPredicate(root, query, cb);

    // Vérifier que la spécification n'est pas nulle
    assertThat(predicate).isNotNull();

    // Vérifier que le bon critère "between" a été appliqué
    verify(cb).between(
        eq(root.get("creationDate")),
        any(), // Vous pouvez ajuster les dates en fonction des valeurs attendues
        any()
    );
}
